(function(e){e.fn.imageOnHover=function(t){function i(t,n,i,s,o,u,a,f){imgHover182canAnimate=0;lastImgHovered["contLeft"]=t;lastImgHovered["contTop"]=n;lastImgHovered["contWidth"]=i;lastImgHovered["contHeight"]=s;lastImgHovered["imgRatio"]=o;lastImgHovered["imgWith"]=u;lastImgHovered["imgHeight"]=a;var l=i;var c=l/o;if(c>s){c=s;l=c*o}var h=(i-l)/2+t;var p=(s-c)/2+n;if(f=="open"){imgHover182.css("width",l).css("height",c);imgHover182.css("left",h).css("top",p);var d=e(window).innerHeight();var v=e(window).innerWidth();var m=settings.maxHeight;if(e.type(m)=="string"){m=parseInt(m.slice(0,-1));if(isNaN(m)){m=90}m=d*m/100}else if(e.type(m)!="number"){m=500}var g=m;var y=settings.maxWidth;if(e.type(y)=="string"){y=parseInt(y.slice(0,-1));if(isNaN(y)){y=90}y=v*y/100}else if(e.type(y)!="number"){y=500}var b=y;maxH=b/o;if(maxH>g){b=g*o}if(u<b){b=u;g=b/o}if(a<g){g=a;b=g*o}var w=(v-b)/2;var E=(d-g)/2;imgHover182.css("display","block");var S=settings.maxOpacity}else if(f=="close"){var g=c;var b=l;var w=h;var E=p;var S=0}imgHover182.stop().animate({height:g+"px",width:b+"px",left:w+"px",top:E+"px",opacity:S},r,function(){imgHover182canAnimate=1;if(f=="close"){imgHover182.css("display","none")}})}function s(t,n){var r=t.attr("href");var s=e('<img src="'+r+'"/>').load(function(){var s=this.width;var o=this.height;var u=s/o;if(t.find("."+settings.childrenClass).length>0){var f=t.find("."+settings.childrenClass).first()}else{var f=t}f=e(f);var l=f.innerWidth();var c=f.innerHeight();var h=f.offset().top;var p=f.offset().left;imgHover182.html('<img src="'+r+'" class="imgHover" style="max-width:100%;">');imgHover182.css("display","none").css("opacity",0);i(p,h,l,c,u,s,o,n)})}var n=this;settings=e.extend({zIndex:1e3,maxWidth:"90%",maxHeight:"90%",childrenClass:"hi182childContainer",animationTime:200,maxOpacity:1},t);var r=settings.animationTime;e("body").prepend('<div id="hoverHolder182" style="position:fixed; z-index:'+settings.zIndex+';"></div>');imgHover182=e("#hoverHolder182");n.addClass("hi182");imgHover182canAnimate=1;lastImgHovered={};e(document).off("mouseover",".hi182");e(document).on("mouseover",".hi182",function(){if(imgHover182canAnimate==0){return false}var t=e(this);s(t,"open")});e(document).on("mousemove",function(e){if(imgHover182canAnimate==0){return false}var t=lastImgHovered["contLeft"];var n=lastImgHovered["contTop"];var r=lastImgHovered["contWidth"];var s=lastImgHovered["contHeight"];var o=lastImgHovered["imgRatio"];var u=lastImgHovered["imgWith"];var a=lastImgHovered["imgHeight"];if(t&&n&&r&&s&&o){var f=e.pageX;var l=e.pageY;if(f<t||f>t+r||l>n+s||l<n){i(t,n,r,s,o,u,a,"close");lastImgHovered={}}}})}})(jQuery)